---
layout: post
title: "计组第五章(残)"
subtitle: "emmmm"
date: 2019-01-10
author: duckduckk
category: 2019-01
tags: studying
finished: true
---

> ### 第五章，总结还是要有的，不然都不知道题目在说什么。说实话，如果这是其他课的话，我也用不着这么每一章都来写总结。只是，这是和计算机相关的课，虽然偏硬件，还是好好学吧。

# **一，CPU的基本功能、CPU的组成：运算器、控制器。Cache:重在数据通路结构。CPU内部主要寄存器的功能。**

### 1，CPU:

##### 功能：

* 指令控制：程序的顺序控制。
* 操作控制：管理并产生每条指令的操作信号，并把它们送到相应部件，控制这些部件按要求进行动作。                     
* 时间控制：对各种操作实施时间上的定时。
* 数据加工：对数据进行算术和逻辑运算处理。

##### 基本组成：

传统CPU由`运算器`和`控制器`组成

### 2,运算器：
* 由ALU、AC、DR和PSW组成
* 是数据加工处理部件
* 在控制器的指挥下运行

##### 运算器的主要功能：
* 执行算术运算
* 执行逻辑运算，并进行逻辑测试

##### 定点运算器的结构：
* 单总线结构的运算器
* 双总线结构的运算器
* 三总线结构的运算器

##### 控制器：
* 组成：PC、指令寄存器（IR） 、指令译码器（ID）、时序产生器和操作控制器
* 作用："决策机构" ,协调和指挥整个系统的操作
* 功能：
   1.取指令，并指出下一条指令的位置。
   2.对指令译码或测试，产生相应操作控制信号，以启动规定的动作 
   3.指挥并控制CPU、内存和I/O设备之间数据流动的方向

### 3，cpu主要寄存器
在CPU中至少要有六类寄存器：指令寄存器（IR）、程序计数器（PC）、地址寄存器（AR）、数据寄存器（DR）、累加寄存器（AC）、程序状态字寄存器（PSW）。这些寄存器用来暂存一个计算机字，其数目可以根据需要进行扩充。

##### 1，程序计数器PC(Programming Counter)
* 又称指令计数器，用来存放正在执行的指令的地址或接着将要执行的下一条指令的地址。
* 顺序执行时，每执行一条指令，PC的值应加1 。
* 要改变程序执行顺序的情况时，一般由转移类指令将转移目标地址（从指令寄存器中的地址字段取得）送往PC ，可实现程序的转移。
###### 2，指令寄存器IR(Instruction Register)
* PC和IR构成一对
* 用来保存当前正执行的一条指令。
* 当执行一条指令时，现把它从指令cache存储器（简称指存）读出，然后再传送至指令寄存器
* 在执行该指令的过程中，指令寄存器的内容不允许发生变化，以保证实现指令的全部功能。
###### 3，数据地址寄存器AR(Address Reg)
* 用来保存当前CPU所访问的数据cache存储器中（简称数存）单元的地址
* 由于要对存储器阵列进行地址译码，所以必须使用地址寄存器来保持信息，直到一次读、写操作完成为止。
* 通常使用单纯的寄存器结构，信息的存入一般采用电位-脉冲方式，即电位输入端对应数据信息位，脉冲输入端对用控制信号.
###### 4，数据缓冲寄存器DR(Data  Reg)
* DR和AR构成一对
* 用来存放ALU的运算结果，或由数据存储器读出的一个数据字，或来自外部接口的一个数据字
* 其作用为：
（1）作为ALU运算结果和通用寄存器之间信息传送中时间的缓冲；
（2）补偿CPU和内存、外围设备之间在操作速度上的差别。
##### 5，通用寄存器GR( R0—R3)
* 其功能是当算术逻辑单元（ALU）执行算术或逻辑运算时，为ALU提供一个工作区。
* 目前CPU中的通用寄存器，多大64个，甚至更多，其中任何一个可存放源操作数，也可存放结果操作数。从硬件结构来讲，需要使用通用寄存器堆结构，以便选择输入信息源。通用寄存器还可用作地址指示器、变址寄存器、堆栈指示器等。
##### 6，程序状态字PSW ( Programm Status Word)
* 主要用来保存由算术指令和逻辑指令运算或测试结果建立的各种条件代码，如运算结果进位标志（C），运算结果溢出标志（V），运算结果为零标志（Z），运算结果为负标志（N）等等。
* 另外，状态条件寄存器还保存中断和系统工作状态等信息，以便使CPU和系统能及时了解机器运行状态和程序运行状态。

# **二，指令执行过程**
**中央处理器（CPU）工作都可以分为5个阶段：取指令、指令译码、执行指令、访存取数、结果写回。**

* 1,**取指令阶段**，取指令阶段是将一条指令从主存中取到指令寄存器的过程。
* 2,**指令译码阶段**，取出指令后，计算机立即进入指令译码阶段。在指令译码阶段，指令译码器按照预定的指令格式，对取回的指令进行拆分和解释，识别区分出不同的指令类别以及各种获取操作数的方法。
* 3,**执行指令阶段**，在取指令和指令译码阶段之后，接着进入执行指令阶段。此阶段的任务是完成指令所规定的各种操作，具体实现指令的功能。为此，CPU的不同部分被连接起来，以执行所需的操作。
* 4,**访存取数阶段**，根据指令需要，有可能要访问主存，读取操作数，这样就进入了访存取数阶段。此阶段的任务是：根据指令地址码，得到操作数在主存中的地址，并从主存中读取该操作数用于运算。
* 5,**结果写回阶段**，结果写回阶段把执行指令阶段的运行结果数据“写回”到某种存储形式：结果数据经常被写到CPU的内部寄存器中，以便被后续的指令快速地存取。在指令执行完毕、结果数据写回之后，若无意外事件（如结果溢出等）发生，计算机就接着从程序计数器PC中取得下一条指令地址，开始新一轮的循环，下一个指令周期将顺序取出下一条指令。

# **三，何谓指令周期**

* 指令周期：指取指令、分析指令到执行完该指令所需的全部时间。
* 各种指令功能变化多样，其指令周期亦不尽相同。
### 有：

* 机器周期：又称CPU周期 
* 时钟周期：节拍脉冲或T周期 


# **四，双总线结构数据通路。指令周期流程图及相应微操作控制信号序列(星星)**
> 百度没找到什么 双总线 只找到了总线的相关概念
### 1，总线系统

##### 系统总线按传递信息的不同被分为三类：
* 数据总线：用于传输数据，是双向线
* 地址总线：用于传输明确的地址信息，是单向线
* 控制总线：用于传输CPU发出的控制信号，是双向线


##### 总线仲裁
主模块和从模块，主模块拥有三总线(地址总线、住居总线、控制总线)的控制权，主模块包括：CPU和外设

按总线仲裁的位置不同，可以将仲裁方式分为
* 集中式仲裁：拥有总线仲裁器，（广集操作）
* 分布式仲裁：最大仲裁号可以占用数据总线。

##### 数据总线的传送模式(五种)：
* **读、写操作：**
描述：读操作是由从方到主方的数据操作。写操作是由主方到从方的数据操作。
场景：在计算机中读、写操作的数据传送模式是最为常见的，在指令周期中指令的读取和数据的传送都是通过读、写操作来完成的。

* **块传送操作：**
描述：只需要给出块的起始地址，然后对固定长度的数据一个接一个地读出或写入。
场景：在DMA数据传送的过程中使用块传送操作，一次性将外设中的数据传送到主存中或将主存中的数据传送给外设

* **写后读、读后写操作：**
描述：在一次操作中，对同一个地址进行先写后读操作或先读后写操作。
场景：写后读操作多用于数据校验中；读后写操作用于多道程序系统中对共享存储资源的保护。

* **广播操作：**
描述：在数据传送过程中总线只允许一个主方对多个从方进行写操作。
场景：DRAM存储器的周期刷新中，接收到刷新信号时，同时对一组存储元进行电荷的补充。

* **广集操作：**
描述：在数据传送过程中将多个从方的数据在总线上进行AND或OR操作之后将结果传送给主方。


### 2，指令：
* MOV指令（传送指令）
* LAD和STO指令(取存数指令)
* ADD/SUB指令（算术逻辑指令）
* AND/OR/XOR指令（逻辑运算指令）
* JMP指令（无条件跳转指令）

### 3,指令周期流程图

* 自己看ppt吧

### 4，另：用方框图语言表示指令周期
* 方框：代表一个CPU周期，方框中的内容表示数据通路的操作或某种控制操作；
* 菱形：表示某种判别或测试，在时间上不单占一个CPU周期，而是依附于紧接它的前面一个方框的CPU周期；
* 箭头：表示CPU执行顺序；
* ' ~ ' ：公操作符号，表示一条指令执行完毕后，CPU所开始执行的一些操作——如中断处理、通道处理等，其中取指令也可认为是公操作。



# **五，CPU数据通路结构(单总线)。用寄存器传送语音拟定指令流程；列出相应的微命令序列**

# **六，同步控制与异步控制的含义、特点及应用场合**

# **七，何谓主设备，何谓从设备**

# **八，环形脉冲发生器的原理及逻辑结构**

# **九，微程序控制的基本思想。何谓微程序、微指令、微命令、微操作。(星星)**

# **十，相容性微操作、相斥性微操作。**

# **十一，微程序控制器的组成原理及时序划分**

# **十二，微指令格式及分类。微命令编码方法。微命令分组的原则(星星)**

# **十三，后续微地址的形成：增量方式、断定方式。**

# **十四，并行处理技术。流水线技术中的三种相关冲突。三类数据相关冲突：RAW、WAR、WAW.**

# **十五，超标量流水线结构CPU.RISC CPU.**

> ### 从 五-十五 没有总结。因为，对不上ppt，百度浪费时间，我如果不设置一个dde，我会一直在这上面折腾。今天马老师的复习提纲也发群了，这个是对的上ppt的。
> ## END

Thanks!

https://blog.csdn.net/qq_38768365/article/details/81052626 
